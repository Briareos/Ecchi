<div class="container">
    <div class="col-sm-3">
        <div ui-scrollfix>
            <form ng-submit="search()">
                <div class="form-group input-group">
                    <input autofocus ng-model="form.search" class="form-control" type="text" no-typeahead data-local="<?= htmlentities(json_encode($categories)) ?>"/>
                    <span class="input-group-btn">
                        <button type="submit" class="btn btn-primary" ng-class="{disabled:!form.search}">Submit</button>
                    </span>
                </div>
            </form>
            <div class="well-small" ng-show="submitting">Loading...</div>

            <p class="alert alert-danger" ng-show="error">{{ error.message }}</p>
        </div>
    </div>
    <div class="col-sm-9">
        <div>
            <div class="thumbnail" ng-repeat="item in items">
                <div class="caption">
                    <h3 contenteditable="true" ng-bind="'['+item.brand+'] '+item.name"></h3>

                    <p class="raw">
                        <a class="btn btn-default btn-xs" ng-if="item.urlJp" ng-href="{{ item.urlJp }}">JP</a>
                        <a class="btn btn-primary btn-xs" ng-if="item.urlEn" ng-href="{{ item.urlEn }}">EN</a>
                    </p>
                </div>

                <img src="//:0" ng-src="{{ item.image }}">

                <div class="row">
                    <div class="col-xs-4" ng-repeat="image in item.images">
                        <div class="thumbnail" style="height: 0; visibility: hidden">
                            <img height="200" src="//:0" ng-src="{{ image }}" onload="this.parentElement.style.height='auto'; this.parentElement.style.visibility='visible'">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
